---
title: "Release SOP: Binary Distribution"
description: "Step-by-step procedure to build, verify, and publish Goneat binaries and package manager updates"
author: "@arch-eagle"
date: "2025-09-02"
last_updated: "2025-09-02"
status: "draft"
tags: ["release", "distribution", "sop", "brew", "scoop", "aur"]
---

# Release SOP: Binary Distribution

This SOP describes how to prepare a Goneat release with cross-platform binaries, checksums/signatures, and publish to GitHub Releases, Homebrew tap, Scoop bucket, and (optionally) Arch AUR.

See the organization-wide standard: `docs/standards/binary-distribution-standard.md`.

## Preconditions

- Lifecycle gates passing (see `docs/status/lifecycle.md`)
- Tag planned (e.g., `v0.1.4`)
- Maintainer with permissions

## Steps

1. Build cross-platform binaries

```bash
make build-all
```

Artifacts are placed in `bin/` with names `goneat-<os>-<arch>`.

2. Package artifacts and checksums

```bash
make package
```

Outputs archives and `SHA256SUMS` under `dist/release/`.

3. Create GitHub Release

- Create annotated tag `vX.Y.Z` and push
- The CI workflow `.github/workflows/release.yml` (added in this repo) will:
  - Build and package artifacts
  - Create a GitHub Release and upload archives + `SHA256SUMS` (+ signature if available)

4. Update package managers

- Homebrew
  - In `3leaps/tap`, update the formula using `packaging/homebrew/goneat.rb.template` as reference.
  - Populate URLs and SHA256 for macOS (amd64/arm64) and Linux (amd64/arm64).
- Scoop
  - In `3leaps/scoop-bucket`, update `goneat.json` using `packaging/scoop/goneat.json.template`.
  - Update version and hashes for `windows_amd64` and (optionally) `windows_arm64` when provided.
- Arch AUR (`goneat-bin`)
  - Update `PKGBUILD` using `packaging/aur/PKGBUILD.template`.
  - Set `sha256sums_*` values and run `updpkgsums`, update `.SRCINFO`.

5. Update docs

```bash
# Update release notes and install docs if needed
vim docs/user-guide/install.md
```

6. Announce

- Internal channels and release announcements.

## Templates

- `packaging/homebrew/goneat.rb.template`
- `packaging/scoop/goneat.json.template`
- `packaging/aur/PKGBUILD.template`

## Rollback

- Delete GitHub release and tag (if necessary)
- Revert package manager entries to previous version

---

Generated by Arch Eagle under supervision of @3leapsdave
