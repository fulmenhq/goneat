# GPL License Boundary Memo

**Date:** January 25, 2025
**Author:** Arch Eagle (supervised by @3leapsdave)
**Subject:** GPL/AGPL License Boundaries for External Tools
**Status:** Active Policy

## Executive Summary

This memo clarifies the GPL license boundaries for external tools used in the Goneat project. While Goneat is licensed under Apache 2.0, we utilize several GPL-licensed tools during development and CI/CD processes. This document establishes clear boundaries to prevent license contamination.

## GPL License Boundary Definition

### Safe Usage (No GPL Contamination)

External tools used via command-line execution do NOT create GPL obligations when:

1. **Process Isolation**: Tools run as separate processes via `exec.Command()` or shell invocation
2. **No Linking**: No static or dynamic linking of GPL code into our binaries
3. **No Distribution**: GPL tools are not distributed with Goneat releases
4. **No Derivation**: We don't modify or extend the GPL tool's source code

### Current GPL/AGPL Tools in Use

| Tool          | License  | Usage Pattern            | Risk Level |
| ------------- | -------- | ------------------------ | ---------- |
| golangci-lint | GPL-3.0  | CLI via `exec.Command()` | ✅ Safe    |
| git           | GPL-2.0  | CLI for version control  | ✅ Safe    |
| gcc/g++       | GPL-3.0+ | Compilation (if used)    | ✅ Safe    |

### Implementation Evidence

From `internal/assess/lint_runner.go`:

```go
cmd = exec.CommandContext(ctx, "golangci-lint", args...) // #nosec G204
```

This pattern demonstrates proper boundary separation - golangci-lint runs as an external process, not as linked code.

## GPL vs AGPL Distinctions

### GPL (General Public License)

- **Trigger**: Distribution of derivative works or linked code
- **Boundary**: Process isolation is sufficient
- **Example**: golangci-lint, git

### AGPL (Affero General Public License)

- **Trigger**: Network service provision (even without distribution)
- **Boundary**: More restrictive - network services using AGPL code must provide source
- **Risk**: Higher for SaaS/API services
- **Mitigation**: Strict process isolation, no AGPL tools in production services

## Compliance Guidelines

### DO:

- ✅ Use GPL tools via CLI/exec for development and CI/CD
- ✅ Document all GPL/AGPL tool usage in this memo
- ✅ Maintain process isolation for all copyleft tools
- ✅ Use `go-licenses` to audit Go dependencies (currently clean)

### DON'T:

- ❌ Import GPL-licensed Go packages in `go.mod`
- ❌ Link GPL libraries (static or dynamic)
- ❌ Distribute GPL tools with Goneat releases
- ❌ Modify GPL tools without understanding obligations

## Verification Process

1. **Dependency Audit**:

   ```bash
   make license-audit  # Checks Go dependencies
   ```

2. **Binary Distribution Check**:
   - Ensure `dist/` contains only Goneat binaries
   - No GPL tools in release artifacts

3. **Code Review**:
   - All external tool usage via `exec.Command()`
   - No GPL package imports

## Exception Process

Any deviation from these guidelines requires:

1. Architecture review by Arch Eagle
2. Legal consultation if needed
3. Documented exception in this memo
4. Alternative implementation plan

## Related Documentation

- [License Inventory](../../licenses/inventory.md) - Go dependency licenses
- [Repository Operations SOP](../../sop/repository-operations-sop.md) - General operations
- License Compliance SOP - _To be created for detailed procedures_

## Updates

This memo will be updated when:

- New GPL/AGPL tools are introduced
- License boundaries change
- Exceptions are approved

---

Generated by Arch Eagle ([Cursor](https://cursor.sh/)) under supervision of [@3leapsdave](https://github.com/3leapsdave)
