# goneat

A single CLI to make codebases neat: formatters, linters, security checks, and smart workflows — built for speed and large repositories.

## Highlights

- No‑hassle hooks: one manifest, one command, instant DX
- Zero‑friction tooling: automatic tool detection and installation
- JSON‑first SSOT: one structured output for CI and humans (markdown/html derived)
- Enterprise‑scale: sharded parallelism, multi-module awareness, .goneatignore filtering
- Extensible: add languages, tools, and policies without changing your hook scripts

## No‑hassle hooks

Goneat manages Git hooks from a single manifest — not hand-edited scripts. Update `/.goneat/hooks.yaml`, then regenerate and install with one command. Optimized for speed: staged-only scope, result caching, and parallel execution.

```bash
goneat hooks init
goneat hooks generate
goneat hooks install
```

Sensible defaults:
- Pre-commit: format + lint (fail-on medium)
- Pre-push: format + lint + security (fail-on high)
- Optimizations: only_changed_files, cache_results, parallel

Update flow:
```bash
# Edit .goneat/hooks.yaml or pull newer templates
goneat hooks generate && goneat hooks install
```

Tips:
- `GONEAT_HOOK_OUTPUT=concise|markdown|json|html` controls hook output
- Fail thresholds configurable via `--fail-on`; security concise shows `Fail-on: <level>`

## Zero‑friction tooling

Never deal with "tool not found" errors again. Goneat's built-in doctor automatically detects and installs required external tools — no manual setup, no environment configuration hassles.

```bash
# Check what's missing
goneat doctor tools --scope security

# Install everything automatically
goneat doctor tools --scope all --install --yes

# Get installation instructions
goneat doctor tools --scope format --print-instructions
```

Supported tools:
- **Security**: gosec, govulncheck, gitleaks
- **Format**: goimports, gofmt (bundled with Go)
- **Future**: Multi-language formatters and linters

Benefits:
- **Zero setup time**: New team members can start contributing immediately
- **Consistent environments**: Same tool versions across all machines
- **Automatic updates**: Stay current with latest security tools
- **Non-intrusive**: Only installs what's needed, with clear prompts

## Large‑repo performance

- Sharded execution (e.g., gosec across Go packages; multi-module via `go list`)
- Concurrency tuned via CPU percentage or explicit worker count
- Staged/diff scoping to minimize work on developer flows

## Commands

- `goneat assess`: Orchestrated assessment engine (format, lint, security, static analysis)
- `goneat format`: Multi-format formatting with finalizer stage (EOF/trailing spaces, line-endings, BOM)
- `goneat security`: Security scanning (gosec, govulncheck), sharded + parallel
- `goneat hooks`: Hook management (init, generate, install, validate, inspect)

### Doctor Command

Goneat includes a built-in doctor for automatic tool management. See the "Zero-friction tooling" section above for usage examples, or check `docs/user-guide/commands/doctor.md` for complete documentation.

## JSON‑first SSOT

All commands produce structured JSON with rich metadata for programmatic processing. Perfect for CI/CD integration, automated workflows, and agentic processing systems.

```json
{
  "metadata": {
    "tool": "goneat",
    "version": "1.0.0",
    "execution_time": 48660125,
    "commands_run": ["format", "lint"]
  },
  "summary": {
    "total_issues": 63,
    "overall_health": 0.37,
    "parallel_groups": 13
  },
  "categories": {
    "format": {
      "issues": [{
        "file": "cmd/doctor.go",
        "auto_fixable": true,
        "estimated_time": 30000000000
      }]
    }
  }
}
```

**Features:**
- Rich metadata for routing and prioritization
- Auto-fixable issue detection
- Parallel processing optimization
- CI/CD pipeline integration
- Agentic backend compatibility

## Roadmap (v0.1.x)

- Deeper finalizer capabilities and shared sharding utilities
- Secrets scanning (gitleaks) and multi-ecosystem dependency scanners (osv-scanner)
- Concurrency manager and telemetry for cross-category budgeting

---

Generated by Code Scout under supervision of @3leapsdave
