$schema: https://json-schema.org/draft/2020-12/schema
$schemaVersion: 1.0.0
title: Goneat Assess Overrides
description: Configure assess category overrides (lint and typecheck)
type: object
required:
  - version
properties:
  version:
    description: Schema version (must be 1)
    type: integer
    enum: [1]
  lint:
    type: object
    description: Lint-specific overrides
    properties:
      yamllint:
        type: object
        description: Control yamllint integration
        properties:
          enabled:
            type: boolean
            description: Enable or disable yamllint integration (default true)
          strict:
            type: boolean
            description: Run yamllint with --strict (default true)
          paths:
            type: array
            description: Doublestar glob patterns to include
            items:
              type: string
          ignore:
            type: array
            description: Doublestar glob patterns to exclude
            items:
              type: string
        additionalProperties: false
      shell:
        type: object
        description: Control shell lint (shfmt/shellcheck)
        properties:
          paths:
            type: array
            items:
              type: string
          ignore:
            type: array
            items:
              type: string
          shfmt:
            type: object
            properties:
              enabled:
                type: boolean
              fix:
                type: boolean
              args:
                type: array
                description: Extra args to pass to shfmt (e.g. ["-i", "4", "-ci"]); -d/-w are controlled by goneat
                items:
                  type: string
              paths:
                type: array
                items:
                  type: string
              ignore:
                type: array
                items:
                  type: string
            additionalProperties: false
          shellcheck:
            type: object
            properties:
              enabled:
                type: boolean
              path:
                type: string
              paths:
                type: array
                items:
                  type: string
              ignore:
                type: array
                items:
                  type: string
            additionalProperties: false
        additionalProperties: false
      github_actions:
        type: object
        description: Control GitHub Actions lint (actionlint)
        properties:
          actionlint:
            type: object
            properties:
              enabled:
                type: boolean
              paths:
                type: array
                items:
                  type: string
              ignore:
                type: array
                items:
                  type: string
            additionalProperties: false
        additionalProperties: false
      make:
        type: object
        description: Control Makefile lint (checkmake)
        properties:
          checkmake:
            type: object
            properties:
              enabled:
                type: boolean
              config:
                type: object
                description: checkmake configuration overrides
                properties:
                  max_body_length:
                    type: integer
                    description: Maximum lines allowed in target body (default 5)
                    minimum: 1
                    maximum: 200
                  min_phony_targets:
                    type: array
                    description: Required phony targets (default ["all"])
                    items:
                      type: string
                additionalProperties: false
            additionalProperties: false
          paths:
            type: array
            items:
              type: string
          ignore:
            type: array
            items:
              type: string
        additionalProperties: false
    additionalProperties: false
  typecheck:
    type: object
    description: Typecheck overrides
    properties:
      enabled:
        type: boolean
        description: Enable or disable typecheck assessments
      typescript:
        type: object
        description: TypeScript typecheck settings
        properties:
          enabled:
            type: boolean
          config:
            type: string
            description: Path to tsconfig file (relative to repo root)
          strict:
            type: boolean
          skip_lib_check:
            type: boolean
          file_mode:
            type: boolean
            description: Enable file-at-a-time typecheck when a single file is included
        additionalProperties: false
    additionalProperties: false
  additionalProperties: false
