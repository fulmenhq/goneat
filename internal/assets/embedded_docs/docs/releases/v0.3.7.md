---
title: goneat v0.3.7 Release Notes
description: Foundation tooling externalization, CI-safe installers, and signing safeguards
date: 2025-11-20
version: v0.3.7
status: Released
---

# goneat v0.3.7 — Foundation Tooling Externalization

**Release Date**: 2025-11-20  
**Status**: Released

## TL;DR

- `.goneat/tools.yaml` is now the single source of truth for tooling scopes—generate it with `goneat doctor tools init` (or `--minimal` for CI) and commit the result.
- Package manager detection prefers sudo-free installers, bootstraps Homebrew into `~/homebrew` when needed, and automatically exports shim paths on GitHub Actions runners.
- Tool metadata used by cooling policy lives in schema-validated configuration files, and Go tool checks use lexical parsing so `go version go1.x.y` is handled correctly.
- `scripts/verify-public-key.sh` enforces a three-layer public-key verification workflow to prevent publishing private signing keys.

## Highlights

### Explicit tools configuration without manual editing

- `goneat doctor tools init` (plus `--scope`, `--language`, `--minimal`, `--force`) detects the repository language and writes `.goneat/tools.yaml` for you—no manual YAML authoring required.
- New SSOT files (`config/tools/foundation-tools-defaults.yaml`, `config/tools/foundation-package-managers.yaml`) describe recommended tools, package managers, and sudo expectations, with schemas to keep updates reviewable.
- Legacy helpers such as `KnownInfrastructureTools()` and `ensureCoreScopes()` were removed, so doctor/assess only read the committed configuration. Unit tests (`cmd/doctor_tools_init_test.go`) cover success, minimal, overwrite, and error flows.

### CI-friendly package manager & PATH automation

- Package manager status reporting now covers eight managers, flags sudo requirements, and defaults to user-local Homebrew installs at `~/homebrew` whenever brew must be installed on hosted runners.
- Persistent pre-run PATH management detects shims for mise, bun, scoop, and go-install, and writes `$GITHUB_PATH` entries automatically when `goneat doctor tools --install --yes` runs in GitHub Actions.
- Go tool detection uses lexical version parsing so version policies no longer mis-handle outputs prefixed with `go`.

### Tool metadata & cooling policy improvements

- Cooling policy features read GitHub repository mappings from `config/tools/common-tools-repos.yaml`, validated by `schemas/tools/common-tools-repos.v1.0.0.json` and embedded during the normal assets workflow.
- Adding or updating mappings now involves editing YAML + re-embedding, with a hardcoded fallback to preserve backward compatibility.

### Release process safeguards

- `scripts/verify-public-key.sh` performs negative/positive grep checks plus `gpg --show-keys` parsing to guarantee a file contains public key material only, and `RELEASE_CHECKLIST.md` documents it as a mandatory step before publishing signing keys.

## Breaking Changes

- `.goneat/tools.yaml` is required; doctor/assess commands error out if the file is missing.
- Foundation scope defaults are no longer injected automatically—repositories must run `goneat doctor tools init` (local) or `goneat doctor tools init --minimal` (CI) and commit the generated file.
- PATH activation in CI should rely on the new shim management instead of custom scripts.

## Upgrade Guide

1. Install goneat v0.3.7: `go install github.com/fulmenhq/goneat@v0.3.7`.
2. For each repository:
   ```bash
   goneat doctor tools init          # local development
   goneat doctor tools init --minimal # CI/CD (sudo-free)
   git add .goneat/tools.yaml && git commit -m "chore: configure goneat tools"
   ```
3. Update CI to call `goneat doctor tools --install --yes`; PATH exports happen automatically on GitHub Actions.
4. Release managers must run `scripts/verify-public-key.sh <public-key.asc>` before distributing keys.

## Documentation

- `docs/appnotes/tools-runner-usage.md` – migration steps for the tools init workflow.
- `docs/guides/goneat-tools-cicd-runner-support.md` – zero-touch PATH activation on runners (including user-local Homebrew).
- `docs/reference/tools-packaging-ci-runner-reference.md` – details on package managers and sudo expectations.

## Credits

- Dave Thompson (@3leapsdave) – project lead and reviewer
- Forge Neat – tooling externalization & release automation
- Arch Eagle – package manager research and CI runner analysis

For the exhaustive changelog see [CHANGELOG.md](../../CHANGELOG.md#037---2025-11-20). For the user-facing summary see [RELEASE_NOTES.md](../../RELEASE_NOTES.md).
