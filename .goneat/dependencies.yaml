version: v1

# License Compliance Policy
# Enforced by: goneat dependencies --licenses
#             goneat assess --categories dependencies
licenses:
  forbidden:
    - GPL-3.0      # Strong copyleft
    - AGPL-3.0     # Network copyleft
  # Optionally add allowed licenses for explicit whitelisting:
  # allowed:
  #   - MIT
  #   - Apache-2.0
  #   - BSD-3-Clause

# Supply Chain Security (Cooling Policy)
# Prevents adoption of newly published packages
# Enforced by: goneat dependencies --cooling
#             goneat assess --categories dependencies
cooling:
  enabled: true
  min_age_days: 7              # Minimum package age before adoption
  min_downloads: 100           # Minimum total downloads threshold
  min_downloads_recent: 10     # Minimum recent downloads threshold
  alert_only: false            # Fail build on violations (false) or warn only (true)
  grace_period_days: 3         # Grace period for initial publication
  # Trust exceptions for internal/known packages:
  # exceptions:
  #   - pattern: "github.com/myorg/*"
  #     reason: "Internal packages"

# Policy Engine Configuration
policy_engine:
  type: embedded    # Use embedded OPA engine (recommended)
  # type: server    # For remote OPA server
  # url: "http://opa-server:8181"

# SBOM Configuration (optional)
# Generated by: goneat dependencies --sbom
#              goneat assess reports include SBOM metadata if available
# sbom:
#   output_dir: sbom
#   format: cyclonedx-json
#   include_dev_dependencies: false

# Assessment Integration Notes:
# - Use 'goneat assess --categories dependencies' for unified workflow
# - SBOM metadata automatically included in assessment reports
# - See docs/user-guide/workflows/dependency-gating.md for patterns