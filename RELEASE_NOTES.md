# Goneat v0.5.0 ‚Äî Husky/Lefthook Migration Support

**Release Date**: 2026-01-15
**Status**: Stable

## TL;DR

- **core.hooksPath detection**: `goneat hooks install` now detects remnants from husky, lefthook, and similar tools that would silently break hooks
- **TypeScript typecheck**: new `typecheck` category runs `tsc --noEmit` with optional file-at-a-time mode
- **Better diagnostics**: `hooks inspect` and `hooks validate` now report core.hooksPath issues

## What Changed

### core.hooksPath Detection

When migrating from husky, lefthook, or similar hook managers, the `core.hooksPath` git config often remains set after uninstallation. This causes git to ignore hooks in `.git/hooks/`, making goneat hooks appear to not work.

**Before v0.5.0:**

```bash
$ goneat hooks install
‚úÖ Installed pre-commit hook
# But hooks never run! Git ignores .git/hooks/ because core.hooksPath is set
```

**After v0.5.0:**

```bash
$ goneat hooks install

‚ö†Ô∏è  Warning: core.hooksPath is set to '.husky/_'
   Git will ignore hooks in .git/hooks/

   Options:
   1. Run: goneat hooks install --unset-hookspath
   2. Run: goneat hooks install --respect-hookspath

‚ùå Hooks installation aborted due to core.hooksPath override
```

### New Flags

| Flag                  | Description                                             |
| --------------------- | ------------------------------------------------------- |
| `--unset-hookspath`   | Clear `core.hooksPath` and install to `.git/hooks/`     |
| `--respect-hookspath` | Install hooks to the path specified in `core.hooksPath` |
| `--force`             | Alias for `--unset-hookspath`                           |

### Migration from Husky

```bash
# After removing husky
npm uninstall husky
rm -rf .husky

# Install goneat hooks (auto-detects and fixes)
goneat hooks init
goneat hooks generate
goneat hooks install --unset-hookspath
```

### Migration from Lefthook

```bash
# After removing lefthook
git config --local --unset core.hooksPath  # or use --unset-hookspath

# Install goneat hooks
goneat hooks init
goneat hooks generate
goneat hooks install
```

### TypeScript Typecheck

Typecheck assessment is now available via `goneat assess --categories typecheck`. It runs `tsc --noEmit` and supports an optional file-at-a-time mode when `file_mode: true` is set in `.goneat/assess.yaml` and a single file is passed via `--include`.

### Tooling Updates

The TypeScript toolchain scope now includes `tsc` so `goneat doctor tools` can provision the compiler alongside Biome.

### Assess Config Validation

`.goneat/assess.yaml` is now validated against a schema when loaded and when generated by `goneat doctor assess init`. Invalid configs surface warnings and are ignored to prevent unexpected overrides.

### Enhanced Diagnostics

`hooks inspect` now shows core.hooksPath warnings:

```bash
$ goneat hooks inspect
üìä Current Hook Status:
‚îú‚îÄ‚îÄ Configuration: ‚úÖ Found
‚îú‚îÄ‚îÄ Generated Hooks: ‚úÖ Found
‚îú‚îÄ‚îÄ Installed Hooks: ‚úÖ Found
‚îî‚îÄ‚îÄ System Health: ‚úÖ Good (7/7)

‚ö†Ô∏è  core.hooksPath override detected: .husky/_
   Hooks in .git/hooks/ will be ignored by git.
   Fix: goneat hooks install --unset-hookspath
```

JSON output includes the new field:

```json
{
  "hooks_path_override": ".husky/_",
  "warnings": [
    "core.hooksPath is set to '.husky/_' - hooks in .git/hooks/ will be ignored"
  ]
}
```

## Upgrade Notes

No breaking changes. The new detection is purely additive‚Äîexisting workflows continue to work.

## Contributors

- Claude Opus 4.5 (devlead)
- @3leapsdave (supervision)
